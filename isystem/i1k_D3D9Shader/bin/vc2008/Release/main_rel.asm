; Listing generated by Microsoft (R) Optimizing Compiler Version 15.00.30729.01 

	TITLE	c:\Users\Matt\Downloads\isystem\i1k_D3D9Shader\src\main_rel.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	__fltused
_BSS	SEGMENT
__fltused DD	01H DUP (?)
_BSS	ENDS
_DATA	SEGMENT
_devParams DD	0320H
	DD	0258H
	DD	015H
	DD	00H
	DD	00H
	DD	00H
	DD	01H
	DD	00H
	DD	00H
	DD	01H
	DD	04bH
	DD	00H
	DD	00H
	DD	080000000H
_DATA	ENDS
PUBLIC	??_C@_06GGHJAEBN@static?$AA@			; `string'
PUBLIC	?entrypoint@@YIXXZ				; entrypoint
EXTRN	__imp__ExitProcess@4:PROC
EXTRN	__imp__GetAsyncKeyState@4:PROC
EXTRN	?intro_do@@YIXPAUIDirect3DDevice9@@J@Z:PROC	; intro_do
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?intro_init@@YIXPAUIDirect3DDevice9@@@Z:PROC	; intro_init
EXTRN	__imp__ShowCursor@4:PROC
EXTRN	__imp__CreateWindowExA@48:PROC
EXTRN	_Direct3DCreate9@4:PROC
;	COMDAT ??_C@_06GGHJAEBN@static?$AA@
; File c:\users\matt\downloads\isystem\i1k_d3d9shader\src\main_rel.cpp
CONST	SEGMENT
??_C@_06GGHJAEBN@static?$AA@ DB 'static', 00H		; `string'
; Function compile flags: /Ogspy
CONST	ENDS
;	COMDAT ?entrypoint@@YIXXZ
_TEXT	SEGMENT
_d3dDevice$ = -4					; size = 4
?entrypoint@@YIXXZ PROC					; entrypoint, COMDAT

; 22   : {    

	push	ebp
	mov	ebp, esp
	push	ecx
	push	esi
	push	edi

; 23   : 	IDirect3DDevice9 *d3dDevice;
; 24   : 
; 25   : 	IDirect3D9 *d3d = Direct3DCreate9( D3D_SDK_VERSION );

	push	32					; 00000020H
	call	_Direct3DCreate9@4
	mov	edi, eax

; 26   : 	if( !d3d )

	xor	esi, esi
	cmp	edi, esi
	je	SHORT $LN6@entrypoint

; 27   : 		return;
; 28   : 
; 29   :     devParams.hDeviceWindow = CreateWindow("static",0,WS_POPUP|WS_VISIBLE,0,0,XRES,YRES,0,0,0,0);

	push	esi
	push	esi
	push	esi
	push	esi
	push	600					; 00000258H
	push	800					; 00000320H
	push	esi
	push	esi
	push	-1879048192				; 90000000H
	push	esi
	push	OFFSET ??_C@_06GGHJAEBN@static?$AA@
	push	esi
	call	DWORD PTR __imp__CreateWindowExA@48

; 30   :     if( d3d->CreateDevice(D3DADAPTER_DEFAULT,D3DDEVTYPE_HAL,devParams.hDeviceWindow,D3DCREATE_HARDWARE_VERTEXPROCESSING,&devParams,&d3dDevice )<0)

	lea	edx, DWORD PTR _d3dDevice$[ebp]
	push	edx
	push	OFFSET _devParams
	push	64					; 00000040H
	push	eax
	push	1
	push	esi
	mov	DWORD PTR _devParams+28, eax
	mov	ecx, DWORD PTR [edi]
	push	edi
	call	DWORD PTR [ecx+64]
	test	eax, eax
	jl	SHORT $LN6@entrypoint

; 31   :         return;
; 32   : 
; 33   :     ShowCursor( 0 );  

	push	esi
	call	DWORD PTR __imp__ShowCursor@4

; 34   : 
; 35   :     intro_init( d3dDevice );

	mov	ecx, DWORD PTR _d3dDevice$[ebp]
	call	?intro_init@@YIXPAUIDirect3DDevice9@@@Z	; intro_init
$LL3@entrypoint:

; 36   :     do 
; 37   :     {
; 38   :         intro_do( d3dDevice, GetTickCount() );

	call	DWORD PTR __imp__GetTickCount@0
	mov	ecx, DWORD PTR _d3dDevice$[ebp]
	mov	edx, eax
	call	?intro_do@@YIXPAUIDirect3DDevice9@@J@Z	; intro_do

; 39   :     }while ( !GetAsyncKeyState(VK_ESCAPE) );

	push	27					; 0000001bH
	call	DWORD PTR __imp__GetAsyncKeyState@4
	test	ax, ax
	je	SHORT $LL3@entrypoint

; 40   : 
; 41   :     ExitProcess(0);

	push	esi
	call	DWORD PTR __imp__ExitProcess@4
$LN6@entrypoint:
	pop	edi
	pop	esi

; 42   :     #ifdef CLEANEXIT
; 43   :     d3dDevice->Release();
; 44   :     d3d->Release();
; 45   :     DestroyWindow( devParams.hDeviceWindow );
; 46   :     #endif
; 47   : }

	leave
	ret	0
$LN9@entrypoint:
?entrypoint@@YIXXZ ENDP					; entrypoint
_TEXT	ENDS
END
